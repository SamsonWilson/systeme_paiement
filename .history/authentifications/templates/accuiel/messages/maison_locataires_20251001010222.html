{% extends 'accuiel/base.html' %}

{% block content %}
<div class="locataires-container">
    <div class="locataires-header">
        <h1>Locataires de la maison "{{ maison.nom }}"</h1>
        <a href="{% url 'message_inbox' %}" class="btn-back">&larr; Retour à la boîte de réception</a>
    </div>

    <div class="locataires-list">
        {% for locataire in locataires %}
            <div class="locataire-card">
                <div class="card-avatar">
                   <span>{{ locataire.prenom|first }}{{ locataire.nom|first }}</span>
                </div>
                <div class="locataire-info">
                    <h5>{{ locataire.prenom }} {{ locataire.nom }}</h5>
                    <p class="email">
                        <i class="icon-mail"></i>
                        {{ locataire.email|default:'Email non renseigné' }}
                    </p>
                    <p class="phone">
                        <i class="icon-phone"></i>
                        {{ locataire.tel|default:'Téléphone non renseigné' }}
                    </p>
                </div>
            </div>
        {% empty %}
            <div class="empty-list">
                <p>Aucun locataire actif n'est actuellement assigné à cette maison.</p>
            </div>
        {% endfor %}
    </div>
</div>

<style>
    :root {
        --primary-color: #007bff; --background-light: #f8f9fa; --border-color: #dee2e6; --card-background: #ffffff; --text-color: #212529; --text-muted: #6c757d; --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    }
    i[class^="icon-"] { display: inline-block; width: 16px; height: 16px; background-color: currentColor; margin-right: 8px; vertical-align: middle; }
    .icon-mail { -webkit-mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z'/%3E%3C/svg%3E") no-repeat center; }
    .icon-phone { -webkit-mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z'/%3E%3C/svg%3E") no-repeat center; }

    .locataires-container { max-width: 800px; margin: 2rem auto; padding: 1.5rem; font-family: var(--font-family); background-color: var(--background-light); border-radius: 12px; }
    .locataires-header { padding-bottom: 1rem; margin-bottom: 1.5rem; border-bottom: 1px solid var(--border-color); }
    .locataires-header h1 { margin: 0; }
    .btn-back { display: inline-block; margin-top: 0.5rem; text-decoration: none; color: var(--primary-color); font-weight: 500; }
    
    .locataire-card { display: flex; align-items: center; gap: 15px; background: var(--card-background); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; margin-bottom: 1rem; }
    .card-avatar { flex-shrink: 0; width: 50px; height: 50px; border-radius: 50%; background-color: #6c757d; color: white; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; font-weight: 600; text-transform: uppercase; }
    .locataire-info h5 { margin: 0 0 8px; font-size: 1.1rem; }
    .locataire-info p { margin: 4px 0; color: var(--text-muted); display: flex; align-items: center; }
    .empty-list { text-align: center; padding: 2rem; color: var(--text-muted); }
</style>
{% endblock %}